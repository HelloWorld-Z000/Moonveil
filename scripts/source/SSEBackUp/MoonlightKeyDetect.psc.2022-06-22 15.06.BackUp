
scriptName MoonlightKeyDetect extends ActiveMagicEffect

;-- Properties --------------------------------------
spell property HitSpell auto

;-- Variables ---------------------------------------

;-- Functions ---------------------------------------

function OnEffectStart(actor akTarget, actor akCaster)

    self.RegisterForControl("sprint")
    PlayerRef = akTarget
endFunction

; Skipped compiler generated GetState

function OnControlDown(String Control)

    if Control == "sprint"
        HitSpell.Cast(PlayerRef as ObjectReference, none)
    endIf
endFunction

function OnControlUp(String Control, Float HoldTime)

    if Control == "sprint"
        PlayerRef.dispelSpell(HitSpell)
    endIf
endFunction

; Skipped compiler generated GotoState
